<mat-table [dataSource]="dataSource" class="mat-elevation-z4">

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
  </ng-container>

  <!-- Quantity Column -->
  <ng-container matColumnDef="quantity">
    <mat-header-cell *matHeaderCellDef> Quantity </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.quantity}} </mat-cell>
  </ng-container>

  <!-- Buy price Column -->
  <ng-container matColumnDef="buyPrice">
    <mat-header-cell *matHeaderCellDef> Buy price (incl. fees) </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.buyPrice | price}} </mat-cell>
  </ng-container>

  <!-- Current price Column -->
  <ng-container matColumnDef="currentPrice">
    <mat-header-cell *matHeaderCellDef> Current price </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.currentPrice | price}} </mat-cell>
  </ng-container>

  <!-- Total Column -->
  <ng-container matColumnDef="total">
    <mat-header-cell *matHeaderCellDef> Total </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.total | price}} </mat-cell>
  </ng-container>

  <!-- Win / Loss Column -->
  <ng-container matColumnDef="winLoss">
    <mat-header-cell *matHeaderCellDef> Win / Loss </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <span *ngIf="element.winLoss >= 0; else loss" class="win">+{{element.winLoss | price}}</span>
      <ng-template #loss>
        <span class="loss">{{element.winLoss | price}}</span>
      </ng-template>
    </mat-cell>
  </ng-container>

  <!-- Win / Loss Percent Column -->
  <ng-container matColumnDef="winLossPercent">
    <mat-header-cell *matHeaderCellDef> Win / Loss (percent) </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <span *ngIf="element.winLoss >= 0; else lossPercent" class="win">+{{element.winLossPercent}}</span>
      <ng-template #lossPercent>
        <span class="loss">{{element.winLossPercent}}</span>
      </ng-template>
    </mat-cell>
  </ng-container>

  <!-- Earned dividends Column -->
  <ng-container matColumnDef="earnedDividends">
    <mat-header-cell *matHeaderCellDef> Earned dividends </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.earnedDividends | price}} </mat-cell>
  </ng-container>

  <!-- ISIN / WKN Column -->
  <ng-container matColumnDef="isinWkn">
    <mat-header-cell *matHeaderCellDef> ISIN / WKN </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.isin}} / {{element.wkn}} </mat-cell>
  </ng-container>

  <!-- Idustry Sector Column -->
  <ng-container matColumnDef="industrySector">
    <mat-header-cell *matHeaderCellDef> Idustry sector </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.industrySector}} </mat-cell>
  </ng-container>

  <!-- Created Column -->
  <ng-container matColumnDef="created">
    <mat-header-cell *matHeaderCellDef> Stock added </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.created | date}} </mat-cell>
  </ng-container>

  <!-- Percent weight Column -->
  <ng-container matColumnDef="percentWeight">
    <mat-header-cell *matHeaderCellDef> Percent weight </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{((element.total / sums.total) * 100).toFixed(2)}}%</mat-cell>
  </ng-container>

  <!-- Actions Column -->
  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <button mat-icon-button color="primary" aria-label="Price change">
        <mat-icon>price_change</mat-icon>
      </button>
      <button mat-icon-button color="primary" aria-label="Dividends">
        <mat-icon>payments</mat-icon>
      </button>
      <button mat-icon-button class="buy-button" aria-label="Buy stock">
        <mat-icon>monetization_on</mat-icon>
      </button>
      <button mat-icon-button class="sell-button" aria-label="Sell stock">
        <mat-icon>monetization_on</mat-icon>
      </button>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>